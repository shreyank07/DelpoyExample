<UserControl x:Class="PGYMiniCooper.CoreModule.View.Modes.PAModeView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:conv="clr-namespace:PGYMiniCooper.CoreModule.View.Converters"
             xmlns:fconv="clr-namespace:ProdigyFramework.Converters;assembly=ProdigyFramework"
             xmlns:customview="clr-namespace:PGYMiniCooper.CoreModule.View.CustomView"
             xmlns:viewmodel="clr-namespace:PGYMiniCooper.CoreModule.ViewModel"
             xmlns:vm="clr-namespace:PGYMiniCooper.DataModule.Structure;assembly=PGYMiniCooper.DataModule"
             xmlns:dm="clr-namespace:PGYMiniCooper.DataModule;assembly=PGYMiniCooper.DataModule"
             xmlns:fTemplates="clr-namespace:ProdigyFramework.TemplateSelector;assembly=ProdigyFramework"
             d:DataContext="{d:DesignInstance Type=viewmodel:ConfigurationViewModel}"
             xmlns:sys="clr-namespace:System;assembly=System.Runtime"
             mc:Ignorable="d" x:Name="parent"
             d:DesignHeight="300" d:DesignWidth="700">
    <UserControl.Resources>
        <conv:VoltageValidator x:Key="voltageValidator"/>
        <conv:ProtocolConfigExitsConverter x:Key="protocolConfigExitsConverter"/>
        <conv:ProtocolConfigCountConverter x:Key="protocolConfigCountConverter" />
        <ControlTemplate x:Key="validationErrorTemplate">
            <DockPanel>
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Top">
                    <Grid Width="12" Height="12">
                        <Ellipse Width="12" Height="12"  Fill="Red" HorizontalAlignment="Center"   VerticalAlignment="Center" ></Ellipse>
                        <TextBlock Foreground="White" FontWeight="Heavy"  FontSize="8" HorizontalAlignment="Center"  VerticalAlignment="Center" TextAlignment="Center" 
                                   ToolTip="{Binding ElementName=ErrorAdorner,Path=AdornedElement.(Validation.Errors)[0].ErrorContent}">X</TextBlock>
                    </Grid>
                    <TextBlock Foreground="Red" FontWeight="SemiBold" Margin="2,0,0,0" 
                   Text="{Binding ElementName=ErrorAdorner, Path=AdornedElement.(Validation.Errors)[0].ErrorContent}"></TextBlock>
                </StackPanel>
                <AdornedElementPlaceholder x:Name="ErrorAdorner" ></AdornedElementPlaceholder>
            </DockPanel>
        </ControlTemplate>
        <fconv:EnumToBooleanConverter x:Key="enumToBooleanConverter" />
        <conv:EnumToBooleanReturnDefaultConverter x:Key="channelEnumToBooleanConverter" DefaultValueWhenFalse="{x:Static dm:eChannles.None}" />
        <conv:MultiValueStringConverter x:Key="multiValueStringConverter" />
       
        <Style TargetType="ListBox">
            <Setter Property="Margin" Value="20,0,0,0" />
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Focusable" Value="True"/>
        </Style>


        <Style TargetType="customview:RadioButtonWithAvailabilityGroup">

           <Setter Property="Cursor" Value="Hand"></Setter>
            <Setter Property="Content" Value=""></Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type customview:RadioButtonWithAvailabilityGroup}">
                        <Grid>

                            <Ellipse x:Name="outerEllipse" Width="22" Height="22" >
                                <Ellipse.Fill>
                                    <RadialGradientBrush >
                                        <GradientStop Offset="0" Color="#b0bec5"/>
                                        <GradientStop Offset="0.88" Color="#b0bec5"/>
                                        <GradientStop Offset="1" Color="#b0bec5"/>
                                    </RadialGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>

                            <Ellipse Width="18" Height="18">
                                <Ellipse.Fill>
                                    <RadialGradientBrush>
                                        <GradientStop Offset="1" Color="White"/>
                                    </RadialGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>
                            <Ellipse x:Name="highlightCircle" Width="10" Height="10">
                                <Ellipse.Fill >
                                    <LinearGradientBrush >
                                        <GradientStop Offset="1" Color="Green"/>
                                    </LinearGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>
                            <ContentPresenter x:Name="content" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="highlightCircle" Property="Fill">
                                    <Setter.Value>
                                        <LinearGradientBrush>
                                            <GradientStop Offset="1" Color="#03a9f4"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="outerEllipse" Property="Fill">
                                    <Setter.Value>
                                        <RadialGradientBrush>
                                            <GradientStop Offset="1" Color="#03a9f4"/>
                                        </RadialGradientBrush>

                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="False">
                                <Setter TargetName="highlightCircle" Property="Fill">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0.3,0" EndPoint="0.7,1">
                                            <GradientStop Offset="0" Color="#b0bec5"/>
                                            <GradientStop Offset="0.5" Color="#b0bec5"/>
                                            <GradientStop Offset="1" Color="#b0bec5"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

        </Style>

        <x:Array x:Key="uartBaudRateSource" Type="sys:Int32" 
            xmlns:sys="clr-namespace:System;assembly=mscorlib">
            <sys:Int32>300</sys:Int32>
            <sys:Int32>600</sys:Int32>
            <sys:Int32>1200</sys:Int32>
            <sys:Int32>2400</sys:Int32>
            <sys:Int32>4800</sys:Int32>
            <sys:Int32>9600</sys:Int32>
            <sys:Int32>19200</sys:Int32>
            <sys:Int32>38400</sys:Int32>
            <sys:Int32>57600</sys:Int32>
            <sys:Int32>115200</sys:Int32>
            <sys:Int32>128000</sys:Int32>
            <sys:Int32>230400</sys:Int32>
            <sys:Int32>256000</sys:Int32>
            <sys:Int32>921600</sys:Int32>
        </x:Array>
        <x:Array x:Key="uartStopBitsSource" Type="sys:Int32" 
            xmlns:sys="clr-namespace:System;assembly=mscorlib">
            <sys:Int32>1</sys:Int32>
            <sys:Int32>2</sys:Int32>
        </x:Array>
        <x:Array x:Key="uartDataWidthSource" Type="sys:Int32" 
            xmlns:sys="clr-namespace:System;assembly=mscorlib">
            <sys:Int32>5</sys:Int32>
            <sys:Int32>6</sys:Int32>
            <sys:Int32>7</sys:Int32>
            <sys:Int32>8</sys:Int32>
            <sys:Int32>9</sys:Int32>
            <sys:Int32>10</sys:Int32>
        </x:Array>
        <x:Array x:Key="canBaudRateSource" Type="sys:Int32" 
            xmlns:sys="clr-namespace:System;assembly=mscorlib">
            <sys:Int32>125</sys:Int32>
            <sys:Int32>250</sys:Int32>
            <sys:Int32>500</sys:Int32>
            <sys:Int32>1000</sys:Int32>
           
        </x:Array>
        <x:Array x:Key="canfdBaudRateSource" Type="sys:Int32" 
            xmlns:sys="clr-namespace:System;assembly=mscorlib">
            <sys:Int32>1000</sys:Int32>
            <sys:Int32>2000</sys:Int32>
            <sys:Int32>5000</sys:Int32>
          

        </x:Array>
        <x:Array x:Key="canfdbrsBaudRateSource" Type="sys:Int32" 
            xmlns:sys="clr-namespace:System;assembly=mscorlib">
            
            <sys:Int32>2000</sys:Int32>
            <sys:Int32>5000</sys:Int32>
            <sys:Int32>8000</sys:Int32>

        </x:Array>
    </UserControl.Resources>
   
    <Grid Margin="5,2,5,0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>       
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <GroupBox  BorderBrush="Orange" BorderThickness="2" HorizontalAlignment="Stretch" Margin="10,0,10,0">
           
            <GroupBox.Header>
                <Label Content="Setup - PA Mode - Protocol Selection"  Style="{StaticResource blueLabel}" HorizontalAlignment="Left" FontWeight="SemiBold" Foreground="{StaticResource LinkButtonForeground}"/>
            </GroupBox.Header>
            <Grid Margin="5">
                <Grid.ColumnDefinitions>
                    <!--<ColumnDefinition/>-->
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <!--<CheckBox Margin="30,5,10,5" Content="I2C/SPI/UART" VerticalAlignment="Center" VerticalContentAlignment="Center" IsChecked="{Binding Config.IsAllSelected}" Grid.Column="0"/>-->
                <CheckBox x:Name="IsI2C" Margin="2,5,10,5" Content="I2C" VerticalAlignment="Center" VerticalContentAlignment="Center" 
                          Command="{Binding ProtocolSelectionCommand}"
                          IsChecked="{Binding ProtocolConfiguration, Converter={StaticResource protocolConfigExitsConverter}, ConverterParameter={x:Static dm:eProtocol.I2C}, Mode=OneWay}"
                          Grid.Column="0" HorizontalAlignment="Center">
                    <CheckBox.CommandParameter>
                        <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                            <Binding Source="{x:Static dm:eProtocol.I2C}" Path="."/>
                            <Binding RelativeSource="{RelativeSource Self}" Path="IsChecked" />
                        </MultiBinding>
                    </CheckBox.CommandParameter>

                </CheckBox>
                <CheckBox Margin="15,5,10,5" Content="SPI" VerticalAlignment="Center" VerticalContentAlignment="Center"   Grid.Column="1" HorizontalAlignment="Center"
                          Command="{Binding ProtocolSelectionCommand}"
                          IsChecked="{Binding ProtocolConfiguration, Converter={StaticResource protocolConfigExitsConverter}, ConverterParameter={x:Static dm:eProtocol.SPI}, Mode=OneWay }">
                    <CheckBox.CommandParameter>
                        <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                            <Binding Source="{x:Static dm:eProtocol.SPI}" Path="."/>
                            <Binding RelativeSource="{RelativeSource Self}" Path="IsChecked" />
                        </MultiBinding>
                    </CheckBox.CommandParameter>
                </CheckBox>

                <CheckBox Margin="15,5,10,5" Content="UART" VerticalAlignment="Center" VerticalContentAlignment="Center" Grid.Column="2" HorizontalAlignment="Center"
                          Command="{Binding ProtocolSelectionCommand}"
                          IsChecked="{Binding ProtocolConfiguration, Converter={StaticResource protocolConfigExitsConverter}, ConverterParameter={x:Static dm:eProtocol.UART}, Mode=OneWay }">
                    <CheckBox.CommandParameter>
                        <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                            <Binding Source="{x:Static dm:eProtocol.UART}" Path="."/>
                            <Binding RelativeSource="{RelativeSource Self}" Path="IsChecked" />
                        </MultiBinding>
                    </CheckBox.CommandParameter>
                </CheckBox>


                <StackPanel Orientation="Vertical" Grid.Column="3">

                    <CheckBox  x:Name="IsI3C" Margin="15,5,10,5"  Content="I3C" 
                               Command="{Binding ProtocolSelectionCommand}" 
                               IsEnabled="True"
                               IsChecked="{Binding ProtocolConfiguration, Converter={StaticResource protocolConfigExitsConverter}, ConverterParameter={x:Static dm:eProtocol.I3C}, Mode=OneWay }"
                               VerticalAlignment="Center" VerticalContentAlignment="Center"   HorizontalAlignment="Center" >
                        <CheckBox.CommandParameter>
                            <MultiBinding Converter="{StaticResource multiValueStringConverter}" ConverterParameter="checkbox">
                                <Binding Source="{x:Static dm:eProtocol.I3C}" Path="."/>
                                <Binding ElementName="IsI3C" Path="IsChecked" />
                                <Binding ElementName="cmbNoOfI3C" Path="SelectedItem" FallbackValue="1" />
                                <!--<Binding>
                                    <Binding.Source>
                                        <sys:String>1</sys:String>
                                    </Binding.Source>
                                </Binding>-->
                            </MultiBinding>
                        </CheckBox.CommandParameter>

                    </CheckBox>
                    <ComboBox x:Name="cmbNoOfI3C" Margin="0"  HorizontalAlignment="Center" VerticalAlignment="Center" HorizontalContentAlignment="Center" 
          VerticalContentAlignment="Center" MinWidth="40"
          ItemsSource="{Binding AvailableNumberOfI3C, Mode=OneWay, NotifyOnSourceUpdated=True}"
          SelectedItem="{Binding ProtocolConfiguration, Converter={StaticResource protocolConfigCountConverter}, ConverterParameter={x:Static dm:eProtocol.I3C}, Mode=OneWay}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Loaded">
                                <i:InvokeCommandAction Command="{Binding SetDefaultSelectionCommand}" />
                            </i:EventTrigger>
                            <i:EventTrigger EventName="SelectionChanged">
                                <i:InvokeCommandAction Command="{Binding ProtocolSelectionCommand}" >
                                    <i:InvokeCommandAction.CommandParameter>
                                        <MultiBinding Converter="{StaticResource multiValueStringConverter}" ConverterParameter="combobox">
                                            <Binding Source="{x:Static dm:eProtocol.I3C}" Path="."/>
                                            <Binding ElementName="IsI3C" Path="IsChecked" />
                                            <Binding ElementName="cmbNoOfI3C" Path="SelectedItem" />
                                        </MultiBinding>
                                    </i:InvokeCommandAction.CommandParameter>
                                </i:InvokeCommandAction>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </ComboBox>

                </StackPanel>
              
                <CheckBox Margin="5,5,10,5" Content="SPMI" VerticalAlignment="Center" VerticalContentAlignment="Center" IsEnabled="True"  Grid.Column="4" HorizontalAlignment="Center"  
                          Command="{Binding ProtocolSelectionCommand}"
                          IsChecked="{Binding ProtocolConfiguration, Converter={StaticResource protocolConfigExitsConverter}, ConverterParameter={x:Static dm:eProtocol.SPMI}, Mode=OneWay }">
                    <CheckBox.CommandParameter>
                        <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                            <Binding Source="{x:Static dm:eProtocol.SPMI}" Path="."/>
                            <Binding RelativeSource="{RelativeSource Self}" Path="IsChecked"/>
                        </MultiBinding>
                    </CheckBox.CommandParameter>
                </CheckBox>
               
                <CheckBox Margin="5,5,10,5" Content="RFFE" VerticalAlignment="Center" VerticalContentAlignment="Center" IsEnabled="True"  Grid.Column="5" HorizontalAlignment="Center" 
                          Command="{Binding ProtocolSelectionCommand}"
                          IsChecked="{Binding ProtocolConfiguration, Converter={StaticResource protocolConfigExitsConverter}, ConverterParameter={x:Static dm:eProtocol.RFFE}, Mode=OneWay }">
                    <CheckBox.CommandParameter>
                        <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                            <Binding Source="{x:Static dm:eProtocol.RFFE}" Path="."/>
                            <Binding RelativeSource="{RelativeSource Self}" Path="IsChecked"/>
                        </MultiBinding>
                    </CheckBox.CommandParameter>
                </CheckBox>
                <CheckBox Margin="15,5,10,5" Content="CAN/CANFD" VerticalAlignment="Center" VerticalContentAlignment="Center" IsEnabled="True"  Grid.Column="6" HorizontalAlignment="Center" 
                          Command="{Binding ProtocolSelectionCommand}"
                          IsChecked="{Binding ProtocolConfiguration, Converter={StaticResource protocolConfigExitsConverter}, ConverterParameter={x:Static dm:eProtocol.CAN}, Mode=OneWay }">
                    <CheckBox.CommandParameter>
                        <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                            <Binding Source="{x:Static dm:eProtocol.CAN}" Path="."/>
                            <Binding RelativeSource="{RelativeSource Self}" Path="IsChecked"/>
                        </MultiBinding>
                    </CheckBox.CommandParameter>
                </CheckBox>
                <CheckBox Margin="15,5,10,5" Content="QSPI" VerticalAlignment="Center" VerticalContentAlignment="Center" IsEnabled="True"  Grid.Column="7" HorizontalAlignment="Center" 
                          Command="{Binding ProtocolSelectionCommand}"
                          IsChecked="{Binding ProtocolConfiguration, Converter={StaticResource protocolConfigExitsConverter}, ConverterParameter={x:Static dm:eProtocol.QSPI}, Mode=OneWay }">

                    <CheckBox.CommandParameter>
                        <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                            <Binding Source="{x:Static dm:eProtocol.QSPI}" Path="."/>
                            <Binding RelativeSource="{RelativeSource Self}" Path="IsChecked"/>
                        </MultiBinding>
                    </CheckBox.CommandParameter>

                </CheckBox>

            </Grid>
        </GroupBox>
        <ItemsControl ItemsSource="{Binding ProtocolConfiguration}" Grid.Row="1">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Vertical"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplateSelector>
                <fTemplates:InlineDataTemplateSelector>
                    <fTemplates:InlineDataTemplateSelector.DataTemplates>
                        <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_I3C}" />
                        <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_I2C}"/>
                        <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_SPMI}">
                            <GroupBox Grid.Row="0" BorderBrush="Orange" BorderThickness="2" HorizontalAlignment="Stretch" Margin="10,0,10,0">
                                <GroupBox.Header>
                                    <Label Content=" SPMI Version Selection"  Style="{StaticResource blueLabel}" HorizontalAlignment="Left" FontWeight="SemiBold" Foreground="{StaticResource LinkButtonForeground}"/>
                                </GroupBox.Header>

                                <Grid Margin="5">
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                   
                                      
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="130"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>


                                    <Label Content="Version" FontWeight="SemiBold" Margin="50,0,5,0" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                    <WrapPanel Margin="5,5,10,5"  Grid.Column="1">
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="grp1" Content="SPMI 1.0 "  IsChecked="{Binding SPMIVersion,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='one'}" Margin="5,0,0,0"/>
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="grp1" Content="SPMI 2.0"  IsChecked="{Binding SPMIVersion,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='two'}" Margin="30,0,10,0"/>

                                    </WrapPanel>

                                 
                          
                                </Grid>
                            </GroupBox>
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_RFFE}"/>
                        <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_CAN}">


                            <GroupBox Grid.Row="0" BorderBrush="Orange" BorderThickness="2" HorizontalAlignment="Stretch" Margin="10,0,10,0">
                                <GroupBox.Header>
                                    <Label Content="Setup - PA Mode - CAN Selection"  Style="{StaticResource blueLabel}" HorizontalAlignment="Left" FontWeight="SemiBold" Foreground="{StaticResource LinkButtonForeground}"/>
                                </GroupBox.Header>

                                <Grid Margin="5">
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="130"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Label Content="Types of CAN" FontWeight="SemiBold" Margin="30,0,5,0" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                    <WrapPanel Margin="10,5,10,5" Grid.Column="1">
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="grp1" Content="CAN "  IsChecked="{Binding CANType,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='CAN'}" Margin="10,0,0,0"/>
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="grp1" Content="CAN FD"  IsChecked="{Binding CANType,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='CANFD'}" Margin="53,0,10,0"/>

                                    </WrapPanel>

                                    <Label Content="Baud Rate" FontWeight="SemiBold" Margin="30,0,5,0" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                    <WrapPanel Margin="4,5,10,5" Grid.Column="1" Grid.Row="2">

                              
                                        <ComboBox ItemsSource="{StaticResource canBaudRateSource}" SelectedItem="{Binding BaudRate,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Margin="0" HorizontalAlignment="Center" VerticalAlignment="Center" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" MinWidth="60"/>
                                        <TextBlock  Margin="5,0,0,0" HorizontalAlignment="Center" VerticalAlignment="Center"  MinWidth="60">Kb/s</TextBlock>
                                        <WrapPanel.Style>
                                            <Style TargetType="WrapPanel">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding CANType}" Value="CAN">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                    </DataTrigger>

                                                </Style.Triggers>
                                            </Style>
                                        </WrapPanel.Style>
                                    </WrapPanel>

                                    <WrapPanel Margin="4,5,10,5" Grid.Column="1" Grid.Row="2">

                                        <WrapPanel>

                                            <ComboBox ItemsSource="{StaticResource canfdBaudRateSource}" SelectedItem="{Binding BaudRateCANFD,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Margin="0" HorizontalAlignment="Center" VerticalAlignment="Center" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" MinWidth="60"/>
                                            <TextBlock  Margin="5,0,0,0" HorizontalAlignment="Center" VerticalAlignment="Center"  MinWidth="60">Kb/s</TextBlock>
                                            <CheckBox Content="BRS"  Margin="20,0,0,0" HorizontalAlignment="Center" VerticalAlignment="Center" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" MinWidth="60"  IsChecked="{Binding BRS}"/>
                                            <WrapPanel.Style>
                                                <Style TargetType="WrapPanel">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding CANType}" Value="CANFD">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding CANType}" Value="CAN">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>

                                                    </Style.Triggers>
                                                </Style>
                                            </WrapPanel.Style>
                                        </WrapPanel>
                                        <WrapPanel>
                                         
                                            <ComboBox ItemsSource="{StaticResource canfdbrsBaudRateSource}" SelectedItem="{Binding BaudRateBRS,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Margin="0" HorizontalAlignment="Center" VerticalAlignment="Center" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" MinWidth="60"/>
                                            <TextBlock  Margin="5,0,0,0" HorizontalAlignment="Center" VerticalAlignment="Center"  MinWidth="60">Kb/s</TextBlock>
                                            <WrapPanel.Style>
                                                <Style TargetType="WrapPanel">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding BRS}" Value="True">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding CANType}" Value="CAN">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>

                                                    </Style.Triggers>
                                                </Style>
                                            </WrapPanel.Style>

                                        </WrapPanel>
                                    </WrapPanel>
                                </Grid>
                            </GroupBox>
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_SPI}">
                            <GroupBox  BorderBrush="Orange" BorderThickness="2" HorizontalAlignment="Stretch" Margin="10,0,10,0">
                                <GroupBox.Header>
                                    <Label Content="Setup - PA Mode - SPI Polarity and Phase"  Style="{StaticResource blueLabel}" HorizontalAlignment="Left" FontWeight="SemiBold" Foreground="{StaticResource LinkButtonForeground}"/>
                                </GroupBox.Header>

                                <Grid Margin="5">
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                        <!--<RowDefinition/>-->
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="130"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Label Content="Clock Polarity" FontWeight="SemiBold" Margin="30,0,5,0" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                    <WrapPanel Margin="10,5,10,5" Grid.Column="1">
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" Content="Low " GroupName="g_1" IsChecked="{Binding Polarity,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='Low'}" Margin="10,0,0,0"/>
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" Content="High" GroupName="g_1" IsChecked="{Binding Polarity,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='High'}" Margin="30,0,10,0"/>

                                    </WrapPanel>
                                    <Label Content="Clock Phase" FontWeight="SemiBold" Margin="30,0,5,0" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                    <WrapPanel Margin="10,5,10,5" Grid.Column="1" Grid.Row="1">
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g_" Content="Low " IsChecked="{Binding Phase,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='Low'}" Margin="10,0,0,0"/>
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g_" Content="High" IsChecked="{Binding Phase,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='High'}" Margin="30,0,10,0"/>

                                    </WrapPanel>

                                </Grid>
                            </GroupBox>
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_UART}">
                            <GroupBox  BorderBrush="Orange" BorderThickness="2" HorizontalAlignment="Stretch" Margin="10,0,10,0">
                                <GroupBox.Header>
                                    <Label Content="Setup - PA Mode - UART Baud Rate Selection"  Style="{StaticResource blueLabel}" HorizontalAlignment="Left" FontWeight="SemiBold" Foreground="{StaticResource LinkButtonForeground}"/>
                                </GroupBox.Header>

                                <WrapPanel Orientation="Vertical">
                                    <StackPanel Orientation="Horizontal">
                                        <Label Content="Baud Rate in (Decimal)  " FontWeight="SemiBold" Margin="40,5,5,5"/>
                                        <ComboBox ItemsSource="{StaticResource uartBaudRateSource}" SelectedItem="{Binding BaudRate,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Margin="0" HorizontalAlignment="Center" VerticalAlignment="Center" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" MinWidth="60"/>
                                        <Label Content="Stop Bits " FontWeight="SemiBold" Margin="40,5,5,5"/>
                                        <ComboBox ItemsSource="{StaticResource uartStopBitsSource}" SelectedItem="{Binding StopBits,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Margin="0" HorizontalAlignment="Center" VerticalAlignment="Center" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" >
                                        </ComboBox>
                                        <Label Content="Data Width " FontWeight="SemiBold" Margin="40,5,5,5"/>
                                        <ComboBox ItemsSource="{StaticResource uartDataWidthSource}" SelectedItem="{Binding DataWidth,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Margin="0" HorizontalAlignment="Center" VerticalAlignment="Center" HorizontalContentAlignment="Center" VerticalContentAlignment="Center">
                                        </ComboBox>
                                    </StackPanel>
                                    <WrapPanel Orientation="Horizontal">
                                        <Label Content="Bit Order  " FontWeight="SemiBold" Margin="40,5,5,5"/>

                                        <RadioButton Content="LSBFirst"  Style="{StaticResource radiobuttonstyle}"  VerticalAlignment="Center"  Margin="20,0,0,0" IsChecked="{Binding BitOrder,
                            Converter={StaticResource EnumToBooleanConverter},ConverterParameter='LSBFirst'}" GroupName="_bitorder">

                                        </RadioButton>
                                        <RadioButton Content="MSBFirst"  Style="{StaticResource radiobuttonstyle}" VerticalAlignment="Center"   Margin="20,0,0,0" IsChecked="{Binding BitOrder,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='MSBFirst'}" GroupName="_bitorder"/>
                                    </WrapPanel>
                                    <WrapPanel Orientation="Horizontal">
                                        <CheckBox x:Name="chkStop" Content="Parity "  Margin="43,5,5,5" FontWeight="SemiBold" HorizontalAlignment="Left" IsChecked="{Binding ParitySelected}"/>
                                        <WrapPanel Width="110" Margin="5"  IsEnabled="{Binding ElementName=chkStop, Path=IsChecked}" Orientation="Vertical">
                                            <RadioButton Content="Odd"  BorderBrush="#03a9f4"   VerticalAlignment="Center"  Margin="20,0,0,0" IsChecked="{Binding Parity,
                            Converter={StaticResource EnumToBooleanConverter},ConverterParameter='Odd'}" GroupName="__Parity1">

                                            </RadioButton>
                                            <RadioButton Content="Even" BorderBrush="#03a9f4"  VerticalAlignment="Center"   Margin="20,5,0,0" IsChecked="{Binding Parity,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='Even'}" GroupName="__Parity1"/>
                                        </WrapPanel>
                                    </WrapPanel>
                                </WrapPanel>
                            </GroupBox>
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_QSPI}">
                            <GroupBox Grid.Row="4" BorderBrush="Orange" BorderThickness="2" HorizontalAlignment="Stretch" Margin="10,0,10,0">
                                <GroupBox.Header>
                                    <Label Content="Setup - PA Mode - QSPI Selection"  Style="{StaticResource blueLabel}" HorizontalAlignment="Left" FontWeight="SemiBold" Foreground="{StaticResource LinkButtonForeground}"/>
                                </GroupBox.Header>

                                <Grid Margin="5">
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="155"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Label Content="QSPI Mode" FontWeight="SemiBold" Margin="30,0,5,0" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                    <WrapPanel Margin="10,5,10,5" Grid.Column="1"  >


                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g1"  Content="Extended" IsChecked="{Binding Mode,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='Extended'}" Margin="10,0,0,0" VerticalAlignment="Bottom"/>
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g1" Content="Dual"  IsChecked="{Binding Mode,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='Dual'}" Margin="12,0,0,0" VerticalAlignment="Bottom"/>
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g1"  Content="Quad"  IsChecked="{Binding Mode,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='Quad'}" Margin="14,0,10,0" VerticalAlignment="Bottom"/>
                                    </WrapPanel>


                                    <Label Content="Clock Polarity(CPOL)" FontWeight="SemiBold" Margin="30,0,5,0" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                    <WrapPanel Margin="10,5,10,5" Grid.Column="1" Grid.Row="1">
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g2" Content="Low"  IsChecked="{Binding Polarity,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='Low'}" Margin="10,0,0,0" VerticalAlignment="Bottom"/>
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g2" Content="High"  IsChecked="{Binding Polarity,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='High'}" Margin="38,0,10,0" VerticalAlignment="Bottom"/>
                                    </WrapPanel>


                                    <Label Content="Clock Phase(CPHA)" FontWeight="SemiBold" Margin="30,0,5,0" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                    <WrapPanel Margin="10,5,10,5" Grid.Column="2" Grid.Row="2">
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g3" Content="Low" IsChecked="{Binding Phase,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='Low'}" Margin="10,0,0,0" VerticalAlignment="Bottom"/>
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g3" Content="High" IsChecked="{Binding Phase,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='High'}" Margin="38,0,10,0" VerticalAlignment="Bottom"/>
                                    </WrapPanel>

                                    <Label Content="Chip Select" FontWeight="SemiBold" Margin="30,0,5,0" Grid.Row="3" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                    <WrapPanel Margin="10,5,10,5" Grid.Column="3" Grid.Row="3">
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g4" Content="Low" IsChecked="{Binding ChipSelect,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='Low'}" Margin="10,0,0,0" VerticalAlignment="Bottom"/>
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g4" Content="High" IsChecked="{Binding ChipSelect,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='High'}" Margin="38,0,10,0" VerticalAlignment="Bottom"/>
                                    </WrapPanel>


                                    <Label Content="QSPI AddressByte" FontWeight="SemiBold" Margin="30,0,5,0" Grid.Row="4" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                    <WrapPanel Margin="10,5,10,5" Grid.Column="4" Grid.Row="4">
                                      <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g5" Content="3byte" IsChecked="{Binding QSPIByteAddresssType,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='ThreeByte'}" Margin="10,0,0,0" VerticalAlignment="Bottom"/>
                                        <RadioButton Style="{StaticResource radiobuttonstyle}" GroupName="g5" Content="4byte" IsChecked="{Binding QSPIByteAddresssType,
                            Converter={StaticResource EnumToBooleanConverter}, ConverterParameter='FourByte'}" Margin="30,0,10,0" VerticalAlignment="Bottom"/>
                                  </WrapPanel>
                                </Grid>
                            </GroupBox>
                        </DataTemplate>
                    </fTemplates:InlineDataTemplateSelector.DataTemplates>
                </fTemplates:InlineDataTemplateSelector>
            </ItemsControl.ItemTemplateSelector>
        </ItemsControl>
        <GroupBox  BorderBrush="Orange" BorderThickness="2" Grid.Row="2" HorizontalAlignment="Stretch" Margin="10,0,10,0">
            <!--<GroupBox.Style>
                <Style TargetType="{x:Type GroupBox}">
                    <Setter Property="Visibility" Value="Visible"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding ProtocolConfiguration.ProtocolType}" Value="CAN">
                            <Setter Property="Visibility" Value="Collapsed"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </GroupBox.Style>-->
            <GroupBox.Header>
                <Label Content="Threshold Settings"  Style="{StaticResource blueLabel}" HorizontalAlignment="Left" FontWeight="SemiBold" Foreground="{StaticResource LinkButtonForeground}"/>
            </GroupBox.Header>
            <Grid Grid.Column="2" Margin="5,0,5,5">

                <Grid.RowDefinitions>
                    <RowDefinition Height="25"/>
                    <RowDefinition Height="Auto"/>

                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="90"/>
                </Grid.ColumnDefinitions>
            
                <Border Grid.Column="1" Grid.Row="0" BorderThickness="1" BorderBrush="#03a9f4" CornerRadius="11" Width="60" Height="23">
                    <TextBlock Text="CH1/CH2" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="#03a9f4" Margin="3"/>
                </Border>
                <Border Grid.Column="2" Grid.Row="0" BorderThickness="1" BorderBrush="#03a9f4" CornerRadius="11" Width="60" Height="23">
                    <TextBlock Text="CH3/CH4" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="#03a9f4" Margin="3"/>
                </Border>
                <Border Grid.Column="3" Grid.Row="0" BorderThickness="1" BorderBrush="#03a9f4" CornerRadius="11" Width="60" Height="23">
                    <TextBlock Text="CH5/CH6" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="#03a9f4" Margin="3"/>
                </Border>
                <Border Grid.Column="4" Grid.Row="0" BorderThickness="1" BorderBrush="#03a9f4" CornerRadius="11" Width="60" Height="23">
                    <TextBlock Text="CH7/CH8" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="#03a9f4" Margin="3"/>
                </Border>

                <Border Grid.Column="5" Grid.Row="0" BorderThickness="1" BorderBrush="#03a9f4" CornerRadius="11" Width="70" Height="23">
                    <TextBlock Text="CH9/CH10" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="#03a9f4" Margin="3"/>
                </Border>
                <Border Grid.Column="6" Grid.Row="0" BorderThickness="1" BorderBrush="#03a9f4" CornerRadius="11" Width="70" Height="23">
                    <TextBlock Text="CH11/CH12" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="#03a9f4" Margin="3"/>
                </Border>
                <Border Grid.Column="7" Grid.Row="0" BorderThickness="1" BorderBrush="#03a9f4" CornerRadius="11" Width="70" Height="23">
                    <TextBlock Text="CH13/CH14" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="#03a9f4" Margin="3"/>
                </Border>
                <Border Grid.Column="8" Grid.Row="0" BorderThickness="1" BorderBrush="#03a9f4" CornerRadius="11" Width="70" Height="23">
                    <TextBlock Text="CH15/CH16" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="#03a9f4" Margin="3"/>
                </Border>
                <!--<Label Content="Voltage" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Center"/>-->
                <Label Content="Voltage" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                <ComboBox ItemsSource="{Binding VoltageList}" SelectedItem="{Binding SignalAmpCh1_2}" Grid.Row="1" Grid.Column="1" Margin="5,0,5,5" Height="25" Width="50">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <ContentPresenter Content="{Binding Converter={StaticResource enumToDescriptionConverter}}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <ComboBox ItemsSource="{Binding VoltageList}" SelectedItem="{Binding SignalAmpCh3_4}" Grid.Row="1" Grid.Column="2" Margin="5,0,5,5" Height="25" Width="50">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <ContentPresenter Content="{Binding Converter={StaticResource enumToDescriptionConverter}}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
                <ComboBox ItemsSource="{Binding VoltageList}" SelectedItem="{Binding SignalAmpCh5_6}" Grid.Row="1" Grid.Column="3" Margin="5,0,5,5" Height="25" Width="50">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <ContentPresenter Content="{Binding Converter={StaticResource enumToDescriptionConverter}}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
                <ComboBox ItemsSource="{Binding VoltageList}" SelectedItem="{Binding SignalAmpCh7_8}" Grid.Row="1" Grid.Column="4" Margin="5,0,5,5" Height="25" Width="50">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <ContentPresenter Content="{Binding Converter={StaticResource enumToDescriptionConverter}}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
                <ComboBox ItemsSource="{Binding VoltageList}" SelectedItem="{Binding SignalAmpCh9_10}" Grid.Row="1" Grid.Column="5" Margin="5,0,5,5" Height="25" Width="50">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <ContentPresenter Content="{Binding Converter={StaticResource enumToDescriptionConverter}}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
                <ComboBox ItemsSource="{Binding VoltageList}" SelectedItem="{Binding SignalAmpCh11_12}" Grid.Row="1" Grid.Column="6" Margin="5,0,5,5" Height="25" Width="50">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <ContentPresenter Content="{Binding Converter={StaticResource enumToDescriptionConverter}}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
                <ComboBox ItemsSource="{Binding VoltageList}" SelectedItem="{Binding SignalAmpCh13_14}" Grid.Row="1" Grid.Column="7" Margin="5,0,5,5" Height="25" Width="50">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <ContentPresenter Content="{Binding Converter={StaticResource enumToDescriptionConverter}}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
                <ComboBox ItemsSource="{Binding VoltageList}" SelectedItem="{Binding SignalAmpCh15_16}" Grid.Row="1" Grid.Column="8" Margin="5,0,5,5" Height="25" Width="50">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <ContentPresenter Content="{Binding Converter={StaticResource enumToDescriptionConverter}}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </Grid>
        </GroupBox>
        <GroupBox  Grid.Row="3" BorderBrush="Orange" BorderThickness="2" HorizontalAlignment="Stretch" Margin="10,0,10,0">
            <GroupBox.Header>
                <Label Content="Setup - PA Mode - Channel Selection"  Style="{StaticResource blueLabel}" HorizontalAlignment="Left" FontWeight="SemiBold" Foreground="{StaticResource LinkButtonForeground}"/>
            </GroupBox.Header>
            <Grid>
          
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="3"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="0" >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="50"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <customview:ChannelHeader x:Name="channelHeader" Margin="180,0,0,0" DataContext="{Binding ChannelList}" />
                    <ItemsControl Grid.Row="1" ItemsSource="{Binding ProtocolConfiguration}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Vertical"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplateSelector>
                        <fTemplates:InlineDataTemplateSelector>
                            <fTemplates:InlineDataTemplateSelector.DataTemplates>
                                
                            <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_I2C}">
                             <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                    
                                            <Border BorderBrush="#03a9f4" Background="#03a9f4" CornerRadius="5" Height="60" Width="auto" Margin="20,5,10,5" VerticalAlignment="Center">
                                                <Label x:Name="lbl_I2C" Foreground="White" FontWeight="SemiBold" Content="{Binding Name}"  VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="5,10,5,10">
                                                    <Label.LayoutTransform>
                                                        <RotateTransform Angle="270"/>
                                                    </Label.LayoutTransform>
                                                </Label>
                                            </Border>
                                            <Border Margin="5" MinWidth="600" >
                                                <StackPanel Orientation="Vertical"> 
                                                    <StackPanel Orientation="Horizontal" Margin="5,5,5,2">
                                                        <customview:ChannelLabel Text="SCL"   x:Name="lbl_I2C_SCL" />
                                                      
                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_I2C_SCL" VerticalAlignment="Center" Content="SCL" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0"  >
                                                          
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}" >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_I2C" />
                                                                                <Binding Path="Text" ElementName="lbl_I2C_SCL" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_SCL}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}" />

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>   
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                       
                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_I2C_SDA" VerticalAlignment="Center" Content="SDA" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="SDA"   x:Name="lbl_I2C_SDA"/>
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0" >
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Click="RadioButtonWithAvailabilityGroup_Click" Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}" >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_I2C" />
                                                                                <Binding Path="Text" ElementName="lbl_I2C_SDA" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_SDA}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}"/>

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                        </ListBox>
                                                    </StackPanel>
                                                </StackPanel>

                                        </Border>
                                        
                                    </StackPanel>
                             </DataTemplate>
                            <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_SPI}">
                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                       
                                            <Border BorderBrush="#03a9f4" Background="#03a9f4" CornerRadius="5" Height="125" Width="auto" Margin="20,5,10,5" VerticalAlignment="Center">
                                                <Label Foreground="White" x:Name="lbl_SPI" FontWeight="SemiBold" Content="{Binding Name}" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="5,10,5,10">
                                                    <Label.LayoutTransform>
                                                        <RotateTransform Angle="270"/>
                                                    </Label.LayoutTransform>
                                                </Label>
                                            </Border>
                                            <Border Margin="5" MinWidth="600" >
                                                <StackPanel Orientation="Vertical">
                                                    <StackPanel Orientation="Horizontal" Margin="5,5,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_SPI_MISO" VerticalAlignment="Center" Content="MISO" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="MISO" x:Name="lbl_SPI_MISO"   />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0"  >

                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}"  >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_SPI" />
                                                                                <Binding Path="Text" ElementName="lbl_SPI_MISO" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_MISO}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}" />

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>

                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_SPI_MOSI" VerticalAlignment="Center" Content="MOSI" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="MOSI"  x:Name="lbl_SPI_MOSI" />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0" >
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}" >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_SPI" />
                                                                                <Binding Path="Text" ElementName="lbl_SPI_MOSI" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_MOSI}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}"/>

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_SPI_CS" VerticalAlignment="Center" Content="CS" HorizontalAlignment="Center"/>
                                                        </Border>-->

                                                        <customview:ChannelLabel Text="CS" x:Name="lbl_SPI_CS"  />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0" >
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}" >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_SPI" />
                                                                                <Binding Path="Text" ElementName="lbl_SPI_CS" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_CS}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}"/>

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_SPI_CLK" VerticalAlignment="Center" Content="CLK" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="CLK"  x:Name="lbl_SPI_CLK"/>
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0" >
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}" >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_SPI" />
                                                                                <Binding Path="Text" ElementName="lbl_SPI_CLK" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_CLK}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}"/>

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                        </ListBox>
                                                    </StackPanel>
                                                </StackPanel>

                                            </Border>

                                        </StackPanel>
                                    </DataTemplate>
                            <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_UART}">

                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                            <Border BorderBrush="#03a9f4" Background="#03a9f4" CornerRadius="5" Height="auto" Width="auto" Margin="20,5,10,5" VerticalAlignment="Center">
                                                <Label x:Name="lbl_UART" Foreground="White" FontWeight="SemiBold" Content="{Binding Name}" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="5,10,5,10">
                                                    <Label.LayoutTransform>
                                                        <RotateTransform Angle="270"/>
                                                    </Label.LayoutTransform>
                                                </Label>
                                            </Border>
                                          
                                            <Border Margin="5" MinWidth="600" >
                                                <StackPanel Orientation="Vertical">
                                                    <StackPanel Orientation="Horizontal" Margin="5,5,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_UART_TX" VerticalAlignment="Center" Content="TX" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="TX"  x:Name="lbl_UART_TX" />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0"  >

                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}"  >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_UART" />
                                                                                <Binding Path="Text" ElementName="lbl_UART_TX" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_TX}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}" />

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>

                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_UART_RX" VerticalAlignment="Center" Content="RX" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="RX" x:Name="lbl_UART_RX"  />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0" >
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}" >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_UART" />
                                                                                <Binding Path="Text" ElementName="lbl_UART_RX" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_RX}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}"/>

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                        </ListBox>
                                                    </StackPanel>
                                                </StackPanel>

                                            </Border>

                                        </StackPanel>

                                    </DataTemplate>
                            <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_I3C}"  >

                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                            <Border BorderBrush="#03a9f4" Background="#03a9f4" CornerRadius="5" Height="auto" Width="auto" Margin="20,5,10,5" VerticalAlignment="Center">
                                                <Label x:Name="lbl_I3C" Foreground="White" FontWeight="SemiBold" Content="{Binding Name}" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="5,10,5,10">
                                                    <Label.LayoutTransform>
                                                        <RotateTransform Angle="270"/>
                                                    </Label.LayoutTransform>
                                                </Label>
                                            </Border>
                                        
                                            <Border Margin="5" MinWidth="600" >
                                                <StackPanel Orientation="Vertical">
                                                    <StackPanel Orientation="Horizontal" Margin="5,5,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_I3C_SCL" VerticalAlignment="Center" Content="SCL" HorizontalAlignment="Center"/>
                                                        </Border>-->

                                                        <customview:ChannelLabel Text="SCL" x:Name="lbl_I3C_SCL" />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0"  >

                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Tag="SCL" Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}"  >
                                                                        
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_I3C" />
                                                                                <Binding Path="Text" ElementName="lbl_I3C_SCL" />
                                                                             
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_SCL}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}" />

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>

                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_I3C_SDA" VerticalAlignment="Center" Content="SDA" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="SDA" x:Name="lbl_I3C_SDA" />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0" >
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Tag="SDA" Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}">
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_I3C" />
                                                                                <Binding Path="Text" ElementName="lbl_I3C_SDA" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_SDA}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}"/>

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                        </ListBox>
                                                    </StackPanel>
                                                </StackPanel>

                                            </Border>

                                        </StackPanel>

                                    </DataTemplate>
                            <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_SPMI}">
                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                            <Border BorderBrush="#03a9f4" Background="#03a9f4" CornerRadius="5" Height="auto" Width="auto" Margin="20,5,10,5" VerticalAlignment="Center">
                                                <Label x:Name="lbl_SPMI" Foreground="White" FontWeight="SemiBold" Content="{Binding Name}" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="5,10,5,10">
                                                    <Label.LayoutTransform>
                                                        <RotateTransform Angle="270"/>
                                                    </Label.LayoutTransform>
                                                </Label>
                                            </Border>
                                            <Border Margin="5" MinWidth="600" >
                                                <StackPanel Orientation="Vertical">
                                                    <StackPanel Orientation="Horizontal" Margin="5,5,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_SPMI_CLK" VerticalAlignment="Center" Content="CLK" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="CLK" x:Name="lbl_SPMI_CLK" />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0"  >

                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}"  >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_SPMI" />
                                                                                <Binding Path="Text" ElementName="lbl_SPMI_CLK" />

                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_SCL}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}" />

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>

                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_SPMI_DATA" VerticalAlignment="Center" Content="DATA" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="DATA" x:Name="lbl_SPMI_DATA" />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0" >
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}" >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_SPMI" />
                                                                                <Binding Path="Text" ElementName="lbl_SPMI_DATA" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_SDA}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}"/>

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                        </ListBox>
                                                    </StackPanel>
                                                </StackPanel>

                                            </Border>

                                        </StackPanel>

                                    </DataTemplate>
                            <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_RFFE}">
                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                            <Border BorderBrush="#03a9f4" Background="#03a9f4" CornerRadius="5" Height="auto" Width="auto" Margin="20,5,10,5" VerticalAlignment="Center">
                                                <Label x:Name="lbl_RFFE" Foreground="White" FontWeight="SemiBold" Content="{Binding Name}" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="5,10,5,10">
                                                    <Label.LayoutTransform>
                                                        <RotateTransform Angle="270"/>
                                                    </Label.LayoutTransform>
                                                </Label>
                                            </Border>
                                            <Border Margin="5" MinWidth="600" >
                                                <StackPanel Orientation="Vertical">
                                                    <StackPanel Orientation="Horizontal" Margin="5,5,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_RFFE_CLK" VerticalAlignment="Center" Content="CLK" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="CLK"  x:Name="lbl_RFFE_CLK" />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0"  >

                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}"  >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_RFFE" />
                                                                                <Binding Path="Text" ElementName="lbl_RFFE_CLK" />

                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_SCL}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}" />

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>

                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_RFFE_DATA" VerticalAlignment="Center" Content="DATA" HorizontalAlignment="Center"/>
                                                        </Border>-->

                                                        <customview:ChannelLabel Text="DATA" x:Name="lbl_RFFE_DATA"  />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0" >
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}" >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_RFFE" />
                                                                                <Binding Path="Text" ElementName="lbl_RFFE_DATA" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_SDA}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}"/>

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                        </ListBox>
                                                    </StackPanel>
                                                </StackPanel>

                                            </Border>

                                        </StackPanel>
                                    </DataTemplate>
                            <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_CAN}">
                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                            <Border BorderBrush="#03a9f4" Background="#03a9f4" CornerRadius="5" Height="auto" Width="auto" Margin="20,5,10,5" VerticalAlignment="Center">
                                                <Label x:Name="lbl_CAN" Foreground="White" FontWeight="SemiBold" Content="{Binding Name}" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="5,10,5,10">
                                                    <Label.LayoutTransform>
                                                        <RotateTransform Angle="270"/>
                                                    </Label.LayoutTransform>
                                                </Label>
                                            </Border>
                                            <Border Margin="5" MinWidth="600" >
                                                <StackPanel Orientation="Vertical">
                                                    <StackPanel Orientation="Horizontal" Margin="5,10,5,10">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_CAN_CH" VerticalAlignment="Center" Content="CAN CH" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="CAN CH"  x:Name="lbl_CAN_CH" />
                                                        <WrapPanel Orientation="Vertical">
                                                            <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0"  >

                                                                <ListBox.ItemsPanel>
                                                                    <ItemsPanelTemplate>
                                                                        <StackPanel Orientation="Horizontal"/>
                                                                    </ItemsPanelTemplate>
                                                                </ListBox.ItemsPanel>
                                                                <ListBox.ItemTemplate>
                                                                    <DataTemplate>
                                                                        <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}"  >
                                                                            <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                                <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                    <Binding Path="Content" ElementName="lbl_CAN" />
                                                                                    <Binding Path="Text" ElementName="lbl_CAN_CH" />

                                                                                </MultiBinding>
                                                                            </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                                <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}" />

                                                                            </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                        </customview:RadioButtonWithAvailabilityGroup>
                                                                    </DataTemplate>
                                                                </ListBox.ItemTemplate>

                                                            </ListBox>
                                                            <TextBlock Margin="10,8,2,5" Foreground="DarkOrange" FontWeight="Bold">Channel 1 is reserved for CAN. Connect CAN Probe to DUT.</TextBlock>
                                                        </WrapPanel>
                                                    </StackPanel>
                                               
                                                </StackPanel>

                                            </Border>

                                        </StackPanel>

                                    </DataTemplate>
                            <DataTemplate DataType="{x:Type viewmodel:ConfigViewModel_QSPI}">
                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                            <Border BorderBrush="#03a9f4" Background="#03a9f4" CornerRadius="5" Height="190" Width="auto" Margin="20,5,10,5" VerticalAlignment="Center">
                                                <Label x:Name="lbl_QSPI" Foreground="White" FontWeight="SemiBold" Content="{Binding Name}" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="5,10,5,10">
                                                    <Label.LayoutTransform>
                                                        <RotateTransform Angle="270"/>
                                                    </Label.LayoutTransform>
                                                </Label>
                                            </Border>
                                            <Border Margin="5" MinWidth="600" >
                                                <StackPanel Orientation="Vertical">
                                                    <StackPanel Orientation="Horizontal" Margin="5,5,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_QSPI_D0" VerticalAlignment="Center" Content="D0" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="D0"  x:Name="lbl_QSPI_D0" />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0"  >

                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}"  >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_QSPI" />
                                                                                <Binding Path="Text" ElementName="lbl_QSPI_D0" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_D0}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}" />

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>

                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_QSPI_D1" VerticalAlignment="Center" Content="D1" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="D1"  x:Name="lbl_QSPI_D1"/>
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0" >
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}" >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_QSPI" />
                                                                                <Binding Path="Text" ElementName="lbl_QSPI_D1" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_D1}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}"/>

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_QSPI_D2" VerticalAlignment="Center" Content="D2" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="D2"  x:Name="lbl_QSPI_D2"/>
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0"  >

                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}"  >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_QSPI" />
                                                                                <Binding Path="Text" ElementName="lbl_QSPI_D2" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_D2}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}" />

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>

                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_QSPI_D3" VerticalAlignment="Center" Content="D3" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="D3" x:Name="lbl_QSPI_D3" />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0" >
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}" >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_QSPI" />
                                                                                <Binding Path="Text" ElementName="lbl_QSPI_D3" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_D3}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}"/>

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_QSPI_CS" VerticalAlignment="Center" Content="CS" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="CS" x:Name="lbl_QSPI_CS" />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0"  >

                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}"  >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_QSPI" />
                                                                                <Binding Path="Text" ElementName="lbl_QSPI_CS" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_CS}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}" />

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>

                                                        </ListBox>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="5,2,5,2">

                                                        <!--<Border VerticalAlignment="Center" Width="60" BorderBrush="Black" BorderThickness="1" CornerRadius="2">
                                                            <Label FontSize="12" x:Name="lbl_QSPI_CLK" VerticalAlignment="Center" Content="CLK" HorizontalAlignment="Center"/>
                                                        </Border>-->
                                                        <customview:ChannelLabel Text="CLK" x:Name="lbl_QSPI_CLK" />
                                                        <ListBox ItemsSource="{Binding ElementName=channelHeader, Path=DataContext}" Margin="10,0" >
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <customview:RadioButtonWithAvailabilityGroup Margin="9,0" IsAvailable="{Binding IsAvailable, Mode=TwoWay}" >
                                                                        <customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                            <MultiBinding Converter="{StaticResource multiValueStringConverter}">
                                                                                <Binding Path="Content" ElementName="lbl_QSPI" />
                                                                                <Binding Path="Text" ElementName="lbl_QSPI_CLK" />
                                                                            </MultiBinding>
                                                                        </customview:RadioButtonWithAvailabilityGroup.GroupName>
                                                                        <customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                            <conv:ConverterBindableParameter Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.ChannelIndex_CLK}"
                                                                                                             Converter="{StaticResource channelEnumToBooleanConverter}"
                                                                                                             ConverterParameter="{Binding Channel}"/>

                                                                        </customview:RadioButtonWithAvailabilityGroup.IsChecked>
                                                                    </customview:RadioButtonWithAvailabilityGroup>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                        </ListBox>
                                                    </StackPanel>
                                                </StackPanel>

                                            </Border>

                                        </StackPanel>
                                    </DataTemplate>
                            </fTemplates:InlineDataTemplateSelector.DataTemplates>
                        </fTemplates:InlineDataTemplateSelector>
                    </ItemsControl.ItemTemplateSelector>
                </ItemsControl>
                </Grid>


              
            </Grid>
        </GroupBox>
    </Grid>
 </UserControl>
